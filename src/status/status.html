<template>
  <div class="status-page container animated-page au-animate">
    <h1 class="title">Initialization Period Status
    </h1>
    <spinbutton
      disabled.bind="loading"
      onclick.call="load()"
      css="btn-submit btn-sm"
      as-button="true"
      text.to-view="loading ? 'Loading...' : 'Refresh'"
      id="refreshButton"
      spin.to-view="loading"
      title=''
    >
    </spinbutton>
    <div
      if.bind="!loading"
      class="body"
    >
      <h4>ETH</h4>
      <hr />
      <dl>
        <dt>Units staked</dt>
        <dd>${ethStaked | ethwei}</dd>
        <dt>Number of stakes</dt>
        <dd>${numEthStakes}</dd>
        <dt>Number of stakers</dt>
        <dd>${ethStakers.size}</dd>
      </dl>
      <h4>Tokens</h4>
      <hr />
      <dl>
        <dt>Units staked</dt>
        <dd>${tokenUnitsStaked | ethwei}</dd>
        <dt>ETH staked</dt>
        <dd>${tokenEthStaked | ethwei}</dd>
        <dt>Number of stakes</dt>
        <dd>${numTokenStakes}</dd>
        <dt>Number of stakers</dt>
        <dd>${tokenStakers.size}</dd>
        <dd>
          <table class="table">
            <thead>
              <tr>
                <th>Token</th>
                <th>Units staked</th>
                <th>ETH staked</th>
                <th>Stakes</th>
                <th>Stakers</th>
              </tr>
            </thead>
            <tbody>
              <tr repeat.for="token of tokens">
                <td>${token.symbol}</td>
                <td>${token.unitsStaked | ethwei}</td>
                <td>${token.ethStaked | ethwei}</td>
                <td>${token.stakes}</td>
                <td>${token.stakers}</td>
            </tbody>
          </table>
        </dd>
      </dl>
      <h4>MGN</h4>
      <hr />
      <dl>
        <dt>Number of registrations</dt>
        <dd>${mgnRegistrations}</dd>
        <dt>Number of claims</dt>
        <dd>${mgnClaims}</dd>
        <dt>Total claimed</dt>
        <dd>${mgnValueClaimed | ethwei}</dd>
      </dl>
      <h4>GEN</h4>
      <hr />
      <dl>
        <dt>Total bid</dt>
        <dd>${totalGenBid | ethwei}</dd>
        <dt>Total number of bidders</dt>
        <dd>${genBidders}</dd>
        <dd>
          <div>
            <table class="table">
              <thead>
                <tr>
                  <th>Auction</th>
                  <th>Amount bid</th>
                  <th>Number of bidders</th>
                </tr>
              </thead>
              <tbody>
                <tr repeat.for="auction of auctions">
                  <td>${auction.auction+1}</td>
                  <td>${auction.bid | ethwei}</td>
                  <td>${auction.bidders}</td>
              </tbody>
            </table>
        </dd>
      </dl>
    </div>
  </div>
</template>
