<template>
  <div class="pageloader" if.bind="!loaded">
    <pageloading></pageloading>
  </div>
  <div else>
    <instructions>You can receive reputation by bidding GEN tokens. There will be 10 auctions, each will run for 9 days
      and offer 10,000 REP. The DutchX DAO will receive all the GEN collected in the auctions. To participate all you
      need to do is enter the amount of GEN you wish to bid and click "Bid". The reputation will be distributed pro
      rata once the auction is complete.
    </instructions>

    <div class="scheme-dashboard-body">

      <div class="message" if.to-view="auctionNotBegun">The locking period has not yet begun, you can't bid</div>
      <div class="message" if.to-view="auctionIsOver">The locking period has ended, you can't bid</div>

      <form if.bind="!auctionNotBegun && !auctionIsOver">
        <div class="row">
          <div class="col-4">
            <div class="form-group bmd-form-group">
              <label for="bidAmount">Tokens to bid</label>
              <input id="bidAmount" class="form-control" type="number" value.bind="bidAmount | ethwei & updateTrigger:'blur'" />
            </div>
            <div class="form-group">
              <button class="btn-submit btn-sm" click.delegate="bid(bidAmount)">Bid</button>
            </div>
          </div>
        </div>

        <!-- <div if.to-view="auctionIsOver">
          <div class="row">
            <div class="col-4">
              <div class="form-group bmd-form-group">
                <div class="dropdown mb-3">
                  <a class="dropdown-toggle" id="auctionIds" href="#" data-toggle="dropdown" aria-haspopup="true"
                    aria-expanded="false">${(auctionId === -1) ? "Select an Auction" : "Auction " + auctionId}</a>

                  <ul class="dropdown-menu" aria-labelledby="auctionIds">
                    <li class="dropdown-item" click.delegate="setAuctionId(auctionId)" repeat.for="auctionId of numberOfAuctions">Auction
                      ${auctionId}</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <div if.to-view="(auctionId >= 0)" class="row">
            <div class="col-4">
              <div if.to-view="!userHasBid">You have not bid in this auction, so there is nothing
                to redeem</div>
              <div else>
                <div class="form-group bmd-form-group">
                  <label for="beneficiaryAddress" class="input-group-text">Beneficiary Address</label>
                  <input id="beneficiaryAddress" class="form-control" value.bind="beneficiary & updateTrigger:'blur'" />
                  <span class="bmd-help">The beneficiary to receive redeemed reputation</span>
                </div>
                <div class="form-group bmd-form-group">
                  <button if.to-view="auctionId !== -1" class="btn-submit btn-sm clearWidth" click.delegate="redeem(auctionId, beneficiary)">Redeem</button>
                </div>
              </div>
            </div>
          </div> -->
      </form>
    </div>
  </div>
</template>
