<template>
  <ux-dialog class="dialog">
    <ux-dialog-header>
      <img src="../../../../static/dutchx-blue.svg" class="logo d-inline-block align-top" alt="DutchX">
      Welcome to the DutchX Initializer
    </ux-dialog-header>
    <ux-dialog-body with.bind="model">
      <div class="body">
        <div if.to-view="loading">
          <pageloading><img src="../../../../static/dutchx-blue.svg" class="logo d-inline-block align-top" alt="DutchX">
            Fetching the DutchX DAO...</pageloading>
        </div>
        <div else>
          <p if.bind="landed && !isConnected">
            There seems to be no connection to the blockchain. Please make sure you are logged into MetaMask.
          </p>

          <div if.bind="isConnected && !hasAccount">
            <p>If you are logged in to MetaMask and have selected your desired account, please allow the DutchX
              Initializer to access your account:</p>

            <p class="buttonContainer"><button class="btn btn-submit" click.delegate="confirm()">Allow the DutchX
                Initializer to Access Your Account</button></p>
          </div>

          <div if.bind="!landed || !hasAccount">
            <p>
              <span class="important">Important:</span> Reputation earned by locking tokens cannot be transferred.
              Please select in MetaMask the account you intend to use for voting within the DAO in the future.
            </p>
            <!-- "OK" (`land`) will take us off the info panel -->
            <p if.bind="!landed" class="buttonContainer"><button class="btn btn-submit" click.delegate="land()">OK</button></p>
          </div>

          <div if.bind="landed && isConnected && hasAccount">
            <p if.bind="!hasDao">
              Please check MetaMask and make sure you are logged in and connected to the Main Ethereum Network.
            </p>
            <div else>
              <!-- we're landed and have a DAO -->
              <p style="text-align: center">[Disclaimer]</p>
              <p class="buttonContainer"><button class="btn btn-submit" click.delegate="accept()">Accept</button></p>
            </div>
          </div>
        </div>
    </ux-dialog-body>
  </ux-dialog>
</template>
