<template>
  <div class="pageloader" if.bind="!loaded">
    <pageloading></pageloading>
  </div>
  <div else>
    <instructions>Select the amount of GNO tokens you would like to lock and the length you wish to lock it for. You
      can lock as much GNO as you like, for up to 3 months. At the end of the initialization period, your reputation
      will be calculated pro rata according to the total locked GNO.</instructions>

    <div class="scheme-dashboard-body">

      <div if.to-view="lockingPeriodIsEnded">The locking period has ended, you can't lock</div>

      <form else with.bind="lockModel">
        <div class="row">
          <div class="col-5">
            <div class="form-group bmd-form-group">
              <label for="lockAmount">Tokens to lock</label>
              <input class="form-control" type='number' id="lockAmount" value.bind="amount | ethwei & updateTrigger:'blur'" />
            </div>
          </div>
          <div class="col-5">
            <div class="form-group bmd-form-group">
              <label for="lockingPeriod">Number of days</label>
              <input class="form-control" id="lockingPeriod" value.bind="period  | secondsDays & updateTrigger:'blur'" />
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <div class="form-group">
              <button class="btn-submit btn-sm" click.delegate="lock()">Submit</button>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-12">
            <locks-for-reputation locks.to-view="locks" release.call="release({lock})" wrapper.one-time="wrapper"></locks-for-reputation>
          </div>
        </div>

        <!-- <div if.bind="lockingPeriodIsEnded">
            <div if.to-view="!userScore" class="mb-3">You have nothing to redeem</div>
            <div else class="form-group bmd-form-group">
              <button class="btn-submit" click.delegate="redeem()">Redeem Reputation</button>
            </div>
          </div> -->
      </form>
    </div>
  </div>
</template>
